{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","thead","pushNotification","posTop","posRight","title","description","type","body","message","createElement","insertAdjacentHTML","className","style","top","right","append","setTimeout","remove","addEventListener","eve","children","tr","classList","target","closest","add","sort","index","sorted","rows","a","b","cells","innerHTML","replace","innerText","form","button","preventDefault","person","name","value","position","office","age","salary","toLocaleString","currency","maximumFractionDigits","length","newPerson","initial","input","setAttribute","focus","even","key","onblur"],"mappings":"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","file":"main.5bfb8c42.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const body = document.querySelector('body');\n\n  const message = document.createElement('message');\n\n  message.insertAdjacentHTML('afterbegin', `\n  <h2 class = title>${title}</h2>\n  <p>${description}</p>\n  `);\n\n  message.className = `notification ${type}`;\n  message.style.top = `${posTop}px`;\n  message.style.right = `${posRight}px`;\n\n  body.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n}; // notifications\n\ntbody.addEventListener('click', (eve) => {\n  for (const tr of [...tbody.children]) {\n    if (tr.className === 'active') {\n      tr.classList.remove('active');\n    }\n  }\n\n  const selected = eve.target.closest('tr');\n\n  selected.classList.add('active');\n}); // selecting rows\n\nthead.addEventListener('click', (eve) => {\n  const sort = (index) => {\n    let sorted = null;\n\n    if (index === 4) {\n      sorted = [...tbody.rows].sort(\n        (a, b) =>\n          a.cells[index].innerHTML.replace(/[^0-9]/g, '')\n          - b.cells[index].innerHTML.replace(/[^0-9]/g, ''));\n    } else {\n      sorted = [...tbody.rows].sort(\n        (a, b) => a.cells[index].innerHTML > b.cells[index].innerHTML ? 1 : -1);\n    }\n\n    tbody.append(...sorted);\n  };\n\n  if (eve.target.innerText === 'Name') {\n    sort(0);\n  }\n\n  if (eve.target.innerText === 'Position') {\n    sort(1);\n  }\n\n  if (eve.target.innerText === 'Office') {\n    sort(2);\n  }\n\n  if (eve.target.innerText === 'Age') {\n    sort(3);\n  }\n\n  if (eve.target.innerText === 'Salary') {\n    sort(4);\n  }\n}); // sorting\n\nconst form = document.createElement('form');\n\nform.innerHTML = `\n<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required></label>\n<label>Position:\n<input name=\"position\" type=\"text\" data-qa=\"position\" required></label>\n<label>Office: <select name=\"office\" data-qa=\"office\" required>\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"London\">London</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n</select></label>\n<label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" required></label>\n<label>Salary:\n<input name=\"salary\" type=\"number\" data-qa=\"salary\" required></label>\n<button name=\"button\" type=\"submit\">Save to table</button>\n`; // form html\n\nform.classList.add('new-employee-form');\n\ndocument.querySelector('body').append(form);\n\nconst button = document.querySelector('button');\n\nform.addEventListener('submit', (eve) => {\n  eve.preventDefault();\n}); // preventDefault for submit\n\nbutton.addEventListener('click', (eve) => {\n  const person = {\n    name: form.querySelector('input[name=\"name\"]').value,\n    position: form.querySelector('input[name=\"position\"]').value,\n    office: form.querySelector('select').value,\n    age: form.querySelector('input[name=\"age\"]').value,\n    salary: form.querySelector('input[name=\"salary\"]').value,\n  };\n\n  person.salary = (+person.salary).toLocaleString('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: 0,\n  });\n\n  if (person.name.length < 4) {\n    pushNotification(150, 10, 'Error',\n      'Name is too short.\\n '\n      + 'Your name should contain more than 3 symblos.', 'error');\n  } else if (person.age < 18 || person.age > 90) {\n    pushNotification(150, 10, 'Error',\n      'Your age is too big or small.\\n '\n      + '', 'error');\n  } else {\n    const newPerson = document.createElement('tr');\n\n    newPerson.innerHTML = `\n    <td>${person.name}</td>\n    <td>${person.position}</td>\n    <td>${person.office}</td>\n    <td>${person.age}</td>\n    <td>${person.salary}</td>\n    `;\n\n    tbody.append(newPerson);\n\n    form.querySelector('input[name=\"name\"]').value = '';\n    form.querySelector('input[name=\"position\"]').value = '';\n    form.querySelector('select').value = 'Tokyo';\n    form.querySelector('input[name=\"age\"]').value = '';\n    form.querySelector('input[name=\"salary\"]').value = '';\n\n    pushNotification(150, 10, 'Success',\n      'New person added successfully.\\n '\n      + '', 'Success');\n  }\n}); // add to table new person from form\n\ntbody.addEventListener('dblclick', (eve) => {\n  const initial = eve.target.innerText;\n  const input = document.createElement('input');\n\n  input.classList.add('cell-input');\n  input.setAttribute('size', '4');\n\n  eve.target.innerText = '';\n  eve.target.append(input);\n\n  input.focus();\n\n  input.addEventListener('keyup', even => {\n    if (even.key === 'Enter') {\n      if (input.value.length > 0) {\n        eve.target.innerText = input.value;\n      } else {\n        eve.target.innerText = initial;\n      }\n    }\n  }); // enter input\n\n  input.onblur = function() {\n    if (input.value.length <= 0) {\n      eve.target.innerText = initial;\n    }\n  }; // onblur input\n}); // editing for dbclick\n"]}